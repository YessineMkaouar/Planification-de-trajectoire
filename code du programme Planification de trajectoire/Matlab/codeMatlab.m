%la matrice des cout initiale
M = [0 17 1.41421 4.12311 9999 9999 9999 9999 9999 6.08276 3.16228 9999 9999 2.23607 6.08276 9.05539 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 11.0454 12.0416 9999 9999 9999 14.0357 15.0333 9999 9999 6.08276 6.7082 9999 9999 9999 9999 7.2111 9.21954 9999 9999 9999 9999 9999 9.05539 ;
17 0 16.0312 13.0384 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 11.0454 8.06226 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 6.08276 5.09902 9999 9999 9999 3.16228 2.23607 6.32456 9999 11.0454 9999 9999 9999 9999 9999 9999 9999 10.6301 10 9999 9999 9.43398 8.06226 ;
1.41421 16.0312 0 3 9999 9999 9999 9999 9999 9999 9999 9999 9999 1 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 5.38516 6.40312 9999 9999 9999 9999 7.07107 9.43398 9999 9999 9999 9999 9999 8.24621 ;
4.12311 13.0384 3 0 3 9999 9999 9999 9999 9999 9999 9999 9999 9999 2 9999 9999 9999 9999 9999 9999 5.38516 4.47214 5 9999 2.23607 9999 9999 9999 9999 9999 9999 9999 9999 9999 2.82843 4.47214 9999 9999 9999 9999 5.38516 8.24621 9999 9999 9999 9999 9999 5.38516 ;
9999 9999 9999 3 0 2 9999 9999 9999 9999 9999 9999 9999 9999 3.60555 9999 9999 9999 9999 9999 9999 2.82843 2.23607 3.16228 3.60555 2.82843 9999 9999 9999 9999 9999 9999 9999 9999 9999 5.38516 7.28011 9999 9999 9999 9999 8.24621 11.1803 9999 9999 9999 9999 9999 9999 ;
9999 9999 9999 9999 2 0 1 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 4.12311 5.09902 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 ;
9999 9999 9999 9999 9999 1 0 2 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 ;
9999 9999 9999 4 1 9999 2 0 1 9999 9999 9999 9999 9999 4.47214 9999 9999 9999 9999 9999 9999 2.23607 2 9999 4.24264 3.60555 9999 9999 9999 9999 9999 9999 9999 9999 9999 6.32456 8.24621 9999 9999 9999 9999 9.21954 12.1655 9999 9999 9999 9999 9999 9999 ;
9999 9999 9999 5 2 9999 9999 1 0 3 9999 9999 9999 9999 5.38516 9999 9999 9999 9999 9999 9999 2 2.23607 9999 5 4.47214 9999 9999 9999 9999 9999 9999 9999 9999 9999 7.28011 9.21954 9999 9999 9999 9999 10.198 13.1529 9999 9999 9999 9999 9999 9999 ;
6.08276 9999 5 9999 9999 9999 1.41421 9999 3 0 3 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 ;
3.16228 9999 2 9999 9999 9999 9999 9999 9999 3 0 2 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 ;
9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 2 0 1 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 ;
9999 9999 9999 1.41421 9999 9999 9999 9999 9999 9999 9999 1 0 2 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 ;
2.23607 9999 1 9999 9999 9999 9999 9999 9999 4 1 9999 2 0 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 ;
6.08276 11.0454 9999 2 3.60555 9999 9999 4.47214 5.38516 9999 9999 9999 9999 9999 0 3 9999 9999 9999 9999 9999 9999 9999 9999 9999 1 9999 9999 9999 9999 9999 9999 9999 9999 9999 2 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 3.60555 ;
9.05539 8.06226 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 3 0 1 9999 9999 9999 9999 9999 9999 9999 9999 9999 2 9999 9999 9999 9999 9999 9999 9999 5.38516 3.60555 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 2 ;
9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 1 0 1 9999 9999 9999 9999 9999 9999 9999 9999 2.23607 9999 9999 9999 9999 9999 9999 9999 4.47214 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 ;
9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 1 0 3 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 5 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 ;
9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 3 0 1 9999 9999 9999 9999 9999 9999 5 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 ;
9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 4 3 9999 1 0 1 9999 9999 9999 9999 9999 4.47214 9999 9999 9999 9999 9999 9999 9999 2.23607 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 ;
9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 5 4 9999 9999 1 0 3 9999 9999 9999 9999 5.38516 9999 9999 9999 9999 9999 9999 9999 2 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 ;
9999 9999 9999 5.38516 2.82843 9999 9999 2.23607 2 9999 9999 9999 9999 9999 5 9999 9999 9999 9999 9999 3 0 1 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 ;
9999 9999 9999 4.47214 2.23607 4.12311 9999 2 2.23607 9999 9999 9999 9999 9999 4 9999 9999 9999 9999 9999 9999 1 0 1 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 ;
9999 9999 9999 5 3.16228 5.09902 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 1 9999 9999 9999 1 0 3 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 ;
9999 9999 9999 9999 3.60555 9999 9999 4.24264 5 9999 9999 9999 9999 9999 9999 9999 9999 1 9999 9999 9999 9999 9999 3 0 1 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 ;
9999 9999 9999 2.23607 2.82843 9999 9999 3.60555 4.47214 9999 9999 9999 9999 9999 1 9999 9999 9999 9999 9999 9999 4 3 9999 1 0 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 ;
11.0454 6.08276 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 2 2.23607 9999 5 4.47214 5.38516 9999 9999 9999 9999 9999 0 1 9999 9999 9999 9999 9999 9999 5 5.38516 9999 9999 9999 9999 9999 9999 9999 8.24621 7.28011 9999 9999 6.32456 2.82843 ;
12.0416 5.09902 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 1 0 4 9999 9999 9999 9999 9999 9999 6.32456 9999 9999 9999 9999 9999 9999 9999 8.544 7.61577 9999 9999 6.7082 3.60555 ;
9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 4 0 2.23607 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 ;
9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 2.23607 0 2.23607 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 10.7703 9.84886 9999 9999 9999 9999 ;
9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 2 2.23607 0 4 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 13 12.083 9999 9999 9999 9999 ;
14.0357 3.16228 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 3 2 9999 9999 4 0 1 9999 9999 8.24621 9999 9999 9999 9999 9999 9999 9999 9.43398 8.60233 9999 9999 7.81025 5.38516 ;
15.0333 2.23607 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 4 3 9999 9999 9999 1 0 5 9999 9.21954 9999 9999 9999 9999 9999 9999 9999 10 9.21954 9999 9999 8.48528 6.32456 ;
9999 6.32456 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 1.41421 9999 5 0 4 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 ;
9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 5.38516 4.47214 5 9999 2.23607 2 9999 9999 9999 9999 9999 5 9999 1.41421 9999 9999 9999 9999 4 0 9999 9999 9999 9999 9999 9999 9999 9999 13.1529 12.1655 9999 9999 11.1803 7.28011 ;
6.08276 11.0454 5.38516 2.82843 5.38516 9999 9999 6.32456 7.28011 9999 9999 9999 9999 9999 2 3.60555 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 5.38516 6.32456 9999 9999 9999 8.24621 9.21954 9999 9999 0 2 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 3 ;
6.7082 9999 6.40312 4.47214 7.28011 9999 9999 8.24621 9.21954 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 2 0 1 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 ;
9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 1 0 1 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 ;
9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 1.41421 9999 1 0 1 9999 9999 9999 9999 9999 9999 9999 9999 9999 ;
9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 1 0 2 9999 9999 9999 9999 9999 9999 9999 9999 ;
9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 2 0 2 9999 9999 9999 9999 9999 9999 9999 ;
7.2111 9999 7.07107 5.38516 8.24621 9999 9999 9.21954 10.198 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 3 1 9999 9999 9999 2 0 3 9999 9999 9999 9999 9999 9999 ;
9.21954 9999 9.43398 8.24621 11.1803 9999 9999 12.1655 13.1529 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 6 4 9999 9999 9999 9999 3 0 3 9999 9999 9999 9999 9999 ;
9999 10.6301 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 8.24621 8.544 9999 10.7703 13 9.43398 10 9999 13.1529 9999 9999 9999 9999 9999 9999 9999 3 0 1 9999 9999 9999 9999 ;
9999 10 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 7.28011 7.61577 9999 9.84886 12.083 8.60233 9.21954 9999 12.1655 9999 9999 9999 9999 9999 9999 9999 9999 1 0 2 9999 9999 9999 ;
9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 1.41421 9999 2 0 1 9999 9999 ;
9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 1 0 2 9999 ;
9999 9.43398 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 6.32456 6.7082 9999 9999 9999 7.81025 8.48528 9999 11.1803 9999 9999 9999 9999 9999 9999 9999 9999 2 1 9999 2 0 4 ;
9.05539 8.06226 8.24621 5.38516 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 3.60555 2 9999 9999 9999 9999 9999 9999 9999 9999 9999 9999 2.82843 3.60555 9999 9999 9999 5.38516 6.32456 9999 7.28011 3 9999 9999 9999 1.41421 9999 9999 9999 6 5 9999 9999 4 0 ];

%Les Points du graphe

x = [0 17 1 4 4 2 2 4 4 1 1 3 3 1 6 9 9 8 8 9 9 6 6 7 7 6 11 12 12 13 14 14 15 15 11 6 6 7 7 8 8 6 6 9 9 7 7 9 9];
y = [0 0 1 1 4 4 5 5 6 6 3 3 2 2 1 1 2 2 5 5 6 6 5 5 2 2 1 1 5 3 5 1 1 6 6 -1 -3 -3 -2 -2 -4 -4 -7 -7 -6 -6 -5 -5 -1];
plot(x,y,'.k','MarkerSize', 30)
n=length(x);
A=ones(n,n);
for ligne = 1:n
	for colonne = 1:n
		if ((M(ligne,colonne)==0) | (M(ligne,colonne) > 9000))
			A(ligne,colonne)=0;
		end
	end
end

hold on;
for i = 1:n
	for j = 1:n
		x1=[0 0];
		y1=[0 0];
		if (A(i,j)==1)
			x1(1)=x(i);
			y1(1)=y(i);
			x1(2)=x(j);
			y1(2)=y(j);
			plot(x1,y1,'k-','linewidth',1);
		end
	end
end

%Les Points des obstacles

x_obs0=[1 4 4 2 2 4 4 1 1 3 3 1];
y_obs0=[1 1 4 4 5 5 6 6 3 3 2 2];
h0=fill(x_obs0,y_obs0,'y-');
h0FaceColor = [0 0.25 0.25];
x_obs1=[6 9 9 8 8 9 9 6 6 7 7 6];
y_obs1=[1 1 2 2 5 5 6 6 5 5 2 2];
h1=fill(x_obs1,y_obs1,'y-');
h1FaceColor = [0 0.25 0.25];
x_obs2=[11 12 12 13 14 14 15 15 11];
y_obs2=[1 1 5 3 5 1 1 6 6];
h2=fill(x_obs2,y_obs2,'y-');
h2FaceColor = [0 0.25 0.25];
x_obs3=[6 6 7 7 8 8 6 6 9 9 7 7 9 9];
y_obs3=[-1 -3 -3 -2 -2 -4 -4 -7 -7 -6 -6 -5 -5 -1];
h3=fill(x_obs3,y_obs3,'y-');
h3FaceColor = [0 0.25 0.25];

%Le plus court Chemin
PCC_x = [0 17 17];
PCC_y = [0 0 0];
plot(PCC_x,PCC_y,'r-','linewidth',2);
plot(PCC_x(1),PCC_y(1),'.r','MarkerSize', 40)
plot(PCC_x(length(PCC_x)),PCC_y(length(PCC_y)),'.r','MarkerSize', 40)
