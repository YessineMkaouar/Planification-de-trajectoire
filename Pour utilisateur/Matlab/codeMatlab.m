%la matrice des cout initiale
M = [0 9999 2.82843 4.47214 9999 4.47214 2.82843 4.47214 9999 4.47214 9999 9999 9999 9999 ;
9999 0 9999 9999 9999 9999 9999 9999 9999 9999 9999 8.24621 6.32456 9999 ;
2.82843 9999 0 2 9999 2 4 9999 9999 4.47214 11.1803 9999 9999 9999 ;
4.47214 9999 2 0 2 9999 4.47214 9999 9999 4 10.4403 9999 9999 5 ;
9999 9999 9999 2 0 2 9999 9999 9999 9999 12.3693 9999 9999 3.60555 ;
4.47214 9999 2 9999 2 0 9999 9999 9999 9999 9999 9999 9999 5.38516 ;
2.82843 9999 4 4.47214 9999 9999 0 2 9999 2 9999 9999 9999 9.43398 ;
4.47214 9999 9999 9999 9999 9999 2 0 2 9999 6.40312 9999 9999 9999 ;
9999 9999 9999 9999 9999 9999 9999 2 0 2 5 9999 9999 10.4403 ;
4.47214 9999 4.47214 4 9999 9999 2 9999 2 0 6.7082 9999 9999 8.544 ;
9999 9999 11.1803 10.4403 12.3693 9999 9999 6.40312 5 6.7082 0 4 9999 14 ;
9999 8.24621 9999 9999 9999 9999 9999 9999 9999 9999 4 0 14 9999 ;
9999 6.32456 9999 9999 9999 9999 9999 9999 9999 9999 9999 14 0 4 ;
9999 9999 9999 5 3.60555 5.38516 9.43398 9999 10.4403 8.544 14 9999 4 0 ];

%Les Points du graphe

x = [0 13 2 4 4 2 2 2 4 4 7 11 11 7];
y = [1 1 3 3 5 5 -1 -3 -3 -1 -7 -7 7 7];
plot(x,y,'.k','MarkerSize', 30)
n=length(x);
A=ones(n,n);
for ligne = 1:n
	for colonne = 1:n
		if ((M(ligne,colonne)==0) | (M(ligne,colonne) > 9000))
			A(ligne,colonne)=0;
		end
	end
end

hold on;
for i = 1:n
	for j = 1:n
		x1=[0 0];
		y1=[0 0];
		if (A(i,j)==1)
			x1(1)=x(i);
			y1(1)=y(i);
			x1(2)=x(j);
			y1(2)=y(j);
			plot(x1,y1,'k-','linewidth',1);
		end
	end
end

%Les Points des obstacles

x_obs0=[2 4 4 2];
y_obs0=[3 3 5 5];
h0=fill(x_obs0,y_obs0,'y-');
h0FaceColor = [0 0.25 0.25];
x_obs1=[2 2 4 4];
y_obs1=[-1 -3 -3 -1];
h1=fill(x_obs1,y_obs1,'y-');
h1FaceColor = [0 0.25 0.25];
x_obs2=[7 11 11 7];
y_obs2=[-7 -7 7 7];
h2=fill(x_obs2,y_obs2,'y-');
h2FaceColor = [0 0.25 0.25];

%Le plus court Chemin
PCC_x = [0 4 4 7 7 11 11 13 13];
PCC_y = [1 3 3 7 7 7 7 1 1];
plot(PCC_x,PCC_y,'r-','linewidth',2);
plot(PCC_x(1),PCC_y(1),'.r','MarkerSize', 40)
plot(PCC_x(length(PCC_x)),PCC_y(length(PCC_y)),'.r','MarkerSize', 40)
